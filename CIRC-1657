else block : line 157 ->> 

Request updatedRequest = Request.from(request.asJson());
      requestQueue.update(originalRequest, updatedRequest);

      return requestRepository.update(request)
        .thenComposeAsync(result -> result.after(v -> requestQueueRepository.updateRequestsWithChangedPositions(requestQueue)));
        
        
        
        
   ======================================
   
   
   requestQueue.update(originalRequest,calculatedRequest);
   
    return requestRepository.update(calculatedRequest)
        .thenComposeAsync(result -> result.after(v -> requestQueueRepository.updateRequestsWithChangedPositions(requestQueue)));
        
        
        ===============================
        
        
            ZonedDateTime tempTime = atStartOfDay(expectedExpirationDate, tenantTimeZone)
      .plusDays(1)
      .minusSeconds(1)
      .truncatedTo(ChronoUnit.SECONDS);
